This mod introduces a creative-only tool that, when right-clicked, dumps a full list of the loaded entities to a text file.  This bypasses the late-loading issue (ie, if I do it at mod load, then how do I know I'm the last mod loaded? Any entities created after I'm loaded won't be in the list!)

So we wait until after game launch and everything settles down, and then the player actively triggers the dump. It also means it doesn't dump every time, so you could leave the mod loaded and not trigger lots of crap every time you launch.

All in all, unless you really NEED an automated smart self-dumping mod thingy, might as well let the (relatively) smart human make this judgement call.